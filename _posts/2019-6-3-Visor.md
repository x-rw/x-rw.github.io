---
layout: post
title: Visor
categories: [fruit, drink]
---


// Inform the background page that
// this tab should have a page-action
chrome.runtime.sendMessage({
    from: 'content',
    subject: 'showPageAction'
});

// Listen for messages from the popup
chrome.runtime.onMessage.addListener(function (msg, sender, response) {
    // First, validate the message's structure
    if ((msg.from === 'popup') && (msg.subject === 'DOMInfo')) {
        // Collect the necessary data
        // (For your specific requirements `document.querySelectorAll(...)`
        //  should be equivalent to jquery's `$(...)`)
        var domInfo = {
            total: window.location.href + " "
        };

        // Directly respond to the sender (popup),
        // through the specified callback */
        response(domInfo);
    }
});















//{
//  "manifest_version": 2,
//  "name": "cambio del color",
//  "description": "cambio de color",
//  "version": "1.0",
//  "author": "m3w",
//  "icons": {
//    "16": "images/icon16.jpg"
//  },
////  "permissions": [
////    "*://www.ruat.gob.bo/Principal.jsf"
////  ],
//  "content_scripts": [ {
//    "matches": ["https://*/*"],
//    "js": ["app.js"],
//    "css": ["app.css"]
//  } ],
//  "browser_action": {
//    "default_popup": "app.html",
//    "default_title": "capture!"
//  },
//  "background": {
//    "persistent": false,
//    "scripts": ["function.js"]
//  }
//}
{
  "manifest_version": 2,
  "name": "Test Extension",
  "version": "0.0",
  "offline_enabled": true,
  "background": {
    "persistent": false,
    "scripts": [
      "background.js"
    ]
  },
  "content_scripts": [
    {
      "matches": [
        "https://*/*"
      ],
      "js": [
        "content.js"
      ],
      "run_at": "document_idle",
      "all_frames": false
    }
  ],
  "page_action": {
    "default_title": "Test Extension",
    //"default_icon": {
    //    "19": "img/icon19.png",
    //    "38": "img/icon38.png"
    //},
    "default_popup": "app.html"
  }

  // No special permissions required...
  //"permissions": []
}
